<div class="w-screen h-screen overflow-hidden bg-gray-200 flex flex-col">
  <div class="w-full h-14 bg-blue-400 flex justify-between items-center px-5">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-7 w-7 text-white"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"
      />
    </svg>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-7 w-7 text-white"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"
      />
    </svg>
  </div>
  <div class="w-full h-full overflow-y-scroll" #chatBox>
    <ng-container *ngFor="let item of messages">
      <div class="rounded-md p-2.5">{{ item.message }}</div>
    </ng-container>
  </div>
  <div class="w-full h-16 bg-gray-300 flex justify-between items-center">
    <div class="w-16 flex-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 cursor-pointer"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"
        />
      </svg>
    </div>
    <div class="w-full h-10 bg-white rounded-lg shadow-md">
      <input
        type="text"
        class="w-full h-full !border-none rounded-lg"
        (keyup.enter)="sendMsg(msg.value); msg.value = ''"
        #msg
      />
    </div>
    <div class="w-16 flex-center" (click)="sendMsg(msg.value); msg.value = ''">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 -rotate-90 cursor-pointer"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
        />
      </svg>
    </div>
  </div>
</div>

<!-- modal -->
<div
  class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-x-hidden m-auto"
  [ngClass]="[waitForChat ? 'visible' : 'hidden']"
>
  <div
    class="bg-white w-11/12 max-w-2xl h-60 rounded-md shadow-md flex items-center flex-col p-3 md:p-5 lg:p-5 relative mt-20 m-auto"
  >
    <div
      class="w-full h-12 md:w-10/12 lg:w-9/12 rounded shadow-sm border border-blue-500 mt-5 flex items-center justify-end"
    >
      <div
        class="h-full bg-blue-500 w-3/12 md:w-2/12 lg:2/12 text-sm md:text-base text-white flex-center"
      >
        ููฺฉ ูู
      </div>
      <div class="h-full w-9/12 font-bold flex-center">{{ link }}</div>
      <div
        class="h-12 w-1/12 md:w-1/12 flex-center cursor-pointer"
        (click)="copyLink()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-blue-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
          />
        </svg>
      </div>
      <div
        class="h-12 w-2/12 md:w-1/12 flex-center cursor-pointer"
        (click)="getNewLink()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 text-blue-500"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
            clip-rule="evenodd"
          />
        </svg>
      </div>
    </div>
    <form
      [formGroup]="friendLink"
      class="w-full md:w-11/12 lg:w-10/12 rounded flex h-12 flex-col relative flex-center mt-5"
      novalidate
    >
      <input
        type="text"
        class="w-full h-full text-center border border-blue-500 rounded-t-sm placeholder:text-gray-400 flex z-10 focus-visible:!border-none placeholder:text-xs md:placeholder:text-base"
        placeholder="ุจุฑุง ุดุฑูุน ฺุช ฺฉุงูู ฺฉู ููฺฉ ฺุช ุทุฑู ููุงุจูุชูู ุฑู ุฏุฑ ุงู ฺฉุงุฏุฑ ูุงุฑุฏ ฺฉูุฏ ๐"
        formControlName="link"
      />
      <div
        (click)="sendRequest()"
        class="absolute w-full h-12 flex-center rounded bg-blue-500 text-white transition-all duration-500 transform"
        [ngClass]="{ 'translate-y-11 rounded-b-sm': friendLink.valid }"
      >
        ุงุฑุณุงู ุฏุฑุฎูุงุณุช ฺุช ...
      </div>
    </form>
    <div
      class="bg-slate-400 rounded w-full h-14 flex-center text-white text-center mt-16 transition-all duration-700 opacity-1 fixed bottom-0 transform"
      [ngClass]="{ '-translate-x-full': requester == '' }"
    >
      <p>
        ฺฉุงุฑุจุฑ
        <span class="bg-slate-600 p-1 rounded-sm shadow-sm">{{
          requester
        }}</span>
        ุจุง ุดูุง ู ุฎูุงุฏ ฺุช ฺฉูู . ุขุง ูุงู ุจู ฺุช ฺฉุฑุฏู ุจุง ูุฑุฏ ูุณุชุฏ ุ
        <span
          class="bg-slate-500 hover:bg-slate-600 transition-all duration-300 px-2 py-2 rounded shadow mx-2 cursor-pointer"
          (click)="approve()"
        >
          ุงุฑู
        </span>
        <span
          (click)="dontChat()"
          class="bg-slate-500 hover:bg-slate-600 transition-all duration-300 px-2 py-2 rounded shadow mx-2 cursor-pointer"
          >ุจูุดูุง ุจุงุจุง</span
        >
      </p>
    </div>
  </div>
</div>
